<div *ngIf="!(spinner |async) else loading">
    <form [formGroup]="registerForm" (ngSubmit)="EditUser()">
        <div class="form-group row">
            <label for="email" class="col-md-4 col-form-label text-md-right">Email <i class="fa fa-envelope"
                    aria-hidden="true"></i></label>
            <div class="col-md-6">
                <input type="text" [formControlName]="'email'" id="email" class="form-control" name="email">
                <label class="text-danger" *ngIf="registerForm.controls['email'].hasError('required')">
                    Email is Required!
                </label>
                <label class="text-danger" *ngIf="registerForm.controls['email'].hasError('email')">
                    Enter a valid email address!
                </label>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-md-4 col-form-label text-md-right">User Name <i class="fa fa-user"
                    aria-hidden="true"></i></label>
            <div class="col-md-6">
                <input type="text" [formControlName]="'username'" class="form-control">
                <label class="text-danger" *ngIf="registerForm.controls['username'].hasError('required')">
                    User Name is Required!
                </label>
            </div>
        </div>

        <div class="form-group row">
            <label for="password" class="col-md-4 col-form-label text-md-right">New Password <i class="fa fa-key"
                    aria-hidden="true"></i></label>
            <div class="col-md-6">
                <input toggle type="password" [formControlName]="'password'" id="password" class="form-control"
                    name="password">
                <div>
                    <label class="col"
                        [ngClass]="registerForm.controls['password'].hasError('required') || registerForm.controls['password'].hasError('minlength')  ? 'text-danger' : 'text-success'">
                        <i class="material-icons">{{ registerForm.controls['password'].hasError('required') ||
                        registerForm.controls['password'].hasError('minlength') ? 'cancel' :
                      'check_circle' }}</i>
                        Must be at least 8 characters!
                    </label>
                    <label class="col"
                        [ngClass]="registerForm.controls['password'].hasError('required') || registerForm.controls['password'].hasError('hasNumber')  ? 'text-danger' : 'text-success'">
                        <i class="material-icons">{{ registerForm.controls['password'].hasError('required') ||
                        registerForm.controls['password'].hasError('hasNumber') ? 'cancel' :
                      'check_circle' }}</i>
                        Must contain at least 1 number!
                    </label>
                    <label class="col"
                        [ngClass]="registerForm.controls['password'].hasError('required') || registerForm.controls['password'].hasError('hasCapitalCase')  ? 'text-danger' : 'text-success'">
                        <i class="material-icons">{{ registerForm.controls['password'].hasError('required') ||
                        registerForm.controls['password'].hasError('hasCapitalCase') ? 'cancel' :
                      'check_circle' }}</i>
                        Must contain at least 1 in Capital Case!
                    </label>
                    <label class="col"
                        [ngClass]="registerForm.controls['password'].hasError('required') || registerForm.controls['password'].hasError('hasSmallCase')  ? 'text-danger' : 'text-success'">
                        <i class="material-icons">{{ registerForm.controls['password'].hasError('required') ||
                        registerForm.controls['password'].hasError('hasSmallCase') ? 'cancel' :
                      'check_circle' }}</i>
                        Must contain at least 1 Letter in Small Case!
                    </label>
                    <label class="col"
                        [ngClass]="registerForm.controls['password'].hasError('required') || registerForm.controls['password'].hasError('hasSpecialCharacters') ? 'text-danger' : 'text-success'">
                        <i class="material-icons">{{ registerForm.controls['password'].hasError('required') ||
                        registerForm.controls['password'].hasError('hasSpecialCharacters') ? 'cancel' :
                      'check_circle' }}</i>
                        Must contain at least 1 Special Character!
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="confirmPassword" class="col-md-4 col-form-label text-md-right"
                [ngClass]="registerForm.controls['confirmPassword'].invalid ? 'text-danger' : ''">Confirm
                Password <i class="fa fa-key" aria-hidden="true"></i></label>
            <div class="col-md-6">
                <input toggle id="confirmPassword" formControlName="confirmPassword" type="password"
                    class="form-control"
                    [ngClass]="registerForm.controls['confirmPassword'].invalid ? 'is-invalid' : ''">
                <label class="col text-danger" *ngIf="registerForm.controls['confirmPassword'].hasError('required')">
                    Password is Required!
                </label>
                <label class="col text-danger"
                    *ngIf="registerForm.controls['confirmPassword'].hasError('NoPassswordMatch')">
                    Password do not match
                </label>

            </div>
        </div>

        <span class="col-md-6 offset-md-4">
            <button [disabled]="(registerForm.controls['username'].invalid && registerForm.controls['email'].invalid)"
                type="submit" class="btn btn-success">Edit</button>
        </span>
    </form>

    <small class="edit-reCAPTCHA mt-2">protected by reCAPTCHA and the Google
        <a href="https://policies.google.com/privacy">Privacy Policy</a> and
        <a href="https://policies.google.com/terms">Terms of Service</a> apply.
    </small>
</div>

<ng-template #loading>
    <div class="centered">
        <i class="fas fa-spinner fa-spin fa-3x"></i>
    </div>
</ng-template>